@page "/login"
@layout AnonymousLayout
@inherits LoginModel

<div class=" col-md-6 offset-md-3">
    <h1>Login</h1>
    @if(!string.IsNullOrEmpty(ErrorMessage))
    {
        <h3>@ErrorMessage</h3>
    }

    <AuthorizeView>
        <Authorized>
            <RedirectToHome/>
        </Authorized>
        <NotAuthorized>
            <InitLocalStorage/>
        </NotAuthorized>
    </AuthorizeView>

    <EditForm Model="@LoginData" OnValidSubmit="LoginAsync">
        <DataAnnotationsValidator/>
        <ValidationSummary/>

        <label for="login">Login</label>
        <InputText id="login" @bind-Value="LoginData.Login" class="form-control"></InputText>
        <label for="password">Password</label>
        <InputText type="password" id="password" @bind-Value="LoginData.Password" class="form-control"></InputText>

        <p class="my-4">
            <button type="submit" class="btn btn-primary">Log in</button>
        </p>
    </EditForm>
</div>
